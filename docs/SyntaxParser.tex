\secrel{ANTLR: Syntax Parser}

\href{https://www.youtube.com/watch?v=2AM85plUtDU}{Runtime}\bigskip

\noindent
\seco\ lacks of very usable and powerful tool\ --- \term{syntax parser}. With
parser you able to input and process any data presented in plain text formats:
scripts in \emph{any} programming languages, JSON, XML,\ldots any text
data formats.

A \term{parser generator} is a tool that reads a grammar specification and
converts it to a program, library module or executable object that can recognize
matches to the grammar. In addition to the parser matcher itself, any parser
generator provides other standard capabilities related to parser generation
such as AST\note{[A]bstract [S]yntax [T]ree}\ tree building, actions on
matched elements, debugging, etc.

So the most impressive way is expand \seco\ by full set of interpreter design
tools: \href{http://www.antlr.org/}{ANTLR} parser toolchain, generic cell editor
able to use ANTLRed grammars for syntax highlight (and completion?), grammar set
for most used programming and data languages, DLR (Dynamic Language Runtime) for
interpreter realization, and vizulatization tools for displaying interpreter
internals (for learning for example).

\secp{Install ANTLR}\ \\

Most known syntax parser engine for \java\ is \url{http://www.antlr.org/}

\begin{enumerate}
  \item 
Download full .jar distibution directly into \seco\ lib dir:
\begin{verbatim}
wget -c \
   http://www.antlr.org/download/antlr-4.7-complete.jar \
      -P ~/seco.bin/lib/
\end{verbatim}
\item Restart \seco\ and create new \menu{Notebook>New}
\menu{CG>\rms>Rename>Syntax}
\item put first cell and mark it with \menu{\rms>Cell>InitCell}
\menu{\rms>Cell>Readonly}
\begin{verbatim}
import org.antlr.runtime.*;
import org.antlr.v4.Tool;
\end{verbatim}
this cell will be run on notebook open and be protected from editing
\item grammar file
\lst{\file{g.g}}{src/script.g4} 
\item process grammar file via command line
\begin{verbatim}
java -jar lib/antlr-4.7-complete.jar g.g
\end{verbatim} 
\item compile parser from command line
\begin{verbatim}
javac -cp .:lib/antlr-4.7-complete.jar g*.java
\end{verbatim}
\item run compiled parser
\begin{verbatim}
echo "1 2 3" | java -cp .:lib/antlr-4.7-complete.jar \
    org.antlr.v4.gui.TestRig g repl -tree 
\end{verbatim}
\end{enumerate}

\clearpage
You can run \make\ which will use this Makefile as build script:
\lstx{\file{\~{}/seco.bin/Makefile}}{src/secoParser.mk}{make}
\begin{verbatim}
ponyatov@debian:~/seco.bin$ make
java  -cp :.:./lib/antlr-4.7-complete.jar \
    -jar lib/antlr-4.7-complete.jar g.g
javac -cp :.:./lib/antlr-4.7-complete.jar g*.java
echo "this is sample code 01 +02.340 5e-6 " \
| java  -cp :.:./lib/antlr-4.7-complete.jar \
    org.antlr.v4.gui.TestRig g repl -tree
(repl this is sample code 01 +02.340 5e-6 <EOF>)
\end{verbatim}

\secup
